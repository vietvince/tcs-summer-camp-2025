---
title: "Part 4: Speed Boosts"
sidebar_position: 6
toc_min_heading_level: 2
toc_max_heading_level: 3
---

# Speed Boosts

<details>
    <summary>**Prerequisites: Before you dive in!**</summary>

    **1. Intro**

    **2. Setup**

    **3. Creating a Gamepass**
</details>

## Objective üßêüóø

We are going to create a script that allows players to purchase a speed boost for their character in Roblox using a Developer Product.

## Description üìñü™∂ 

Here's what we want to accomplish: 

**1. Purchase Speed Boost:**

Players can buy a speed boost for their character using a Developer Product.

**2. Increase Walk Speed:**

When purchased, the character's walk speed will double temporarily. 

**3. Restore Original Walk Speed:**

After a short duration, the character's walk speed will return to normal. 

**By doing this, we will create a dynamic gameplay feature where players can temporarily boost their character's walk speed through in-game purchases.** 

## Instructions and Code Logic üìùüìö

### Step 1 - Get the Necessary Services

- Get the `MarketplaceService` from the game. 

- Get the `Players` service from the game. 

### Step 2 - Set Up Developer Product ID

- Define the Developer Product ID for the speed boost purchase (`DEV_PRODUCT_SPEED_BOOST`). 

### Step 3 - Create a Function to Handle Speed Boost

- Define a function named `grantSpeedBoost` that takes a `player` as an argument. 

- Inside the function, get the player's character and its Humanoid component. 

- Store the original walk speed of the Humanoid. 

- Double the Humanoid's walk speed. 

- Wait for 5 seconds (the duration of the speed boost). 

- Reset the Humanoid's walk speed to its original value. 

### Step 4 - Create a Function to Process Receipts

- Define a function named `processReceipt` that takes `receiptInfo` as an argument. 

- Inside the function, get the player from the receipt information. 

- If the player is not found, return `Enum.ProductPurchaseDecision.NotProcessedYet`. 

- Use a `pcall` to handle any errors during processing. 

- If the `ProductId` matches the speed boost product, call the `grantSpeedBoost` function for the player. 

- Return `Enum.ProductPurchaseDecision.PurchaseGranted` if successful, otherwise return `Enum.ProductPurchaseDecision.NotProcessedYet`. 

### Step 5 - Set the Callback Function

- Set `MarketplaceService.ProcessReceipt` to the `processReceipt` function to handle purchase processing. 

## Putting It All Together üîßüî©

- Start by getting the necessary services and setting up the Developer Product ID. 

- Define functions to handle speed boost and receipt processing. 

- Set the callback function for processing receipts. 

**By following these simple steps, you can create a script that allows players to purchase a speed boost for their character, with the walk speed returning to normal after a short duration.** 